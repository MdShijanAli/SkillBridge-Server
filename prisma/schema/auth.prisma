model User {
    id            String   @id
    name          String
    email         String   @unique
    emailVerified Boolean  @map("email_verified")
    image         String?
    createdAt     DateTime @map("created_at")
    updatedAt     DateTime @map("updated_at")

    role          String  @default("STUDENT")
    first_name    String?
    last_name     String?
    phone         String?
    profile_image String?
    is_active     Boolean @default(true)
    is_banned     Boolean @default(false)

    tutorProfile    TutorProfile?
    studentBookings Booking[]     @relation("StudentBookings")
    tutorBookings   Booking[]     @relation("TutorBookings")
    reviews         Review[]      @relation("StudentReviews")
    receivedReviews Review[]      @relation("TutorReviews")

    sessions Session[]
    accounts Account[]

    @@map("user")
}

model Session {
    id        String   @id
    expiresAt DateTime @map("expires_at")
    ipAddress String?  @map("ip_address")
    userAgent String?  @map("user_agent")
    userId    String   @map("user_id")
    user      User     @relation(fields: [userId], references: [id], onDelete: Cascade)

    @@map("session")
}

model Account {
    id           String    @id
    accountId    String    @map("account_id")
    providerId   String    @map("provider_id")
    userId       String    @map("user_id")
    accessToken  String?   @map("access_token")
    refreshToken String?   @map("refresh_token")
    idToken      String?   @map("id_token")
    expiresAt    DateTime? @map("expires_at")
    password     String?
    user         User      @relation(fields: [userId], references: [id], onDelete: Cascade)

    @@map("account")
}

model Verification {
    id         String   @id
    identifier String
    value      String
    expiresAt  DateTime @map("expires_at")

    @@map("verification")
}
